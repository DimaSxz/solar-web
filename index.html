<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="UTF-8">
	<title>Solar Web</title>
	<meta name="description" content="">
	<meta name="keywords" content="">
	<meta name="author" content="Петров Дмитрий Владимирович">
	<meta name="copyright" lang="ru" content="Solar-Web, 2017">
	<meta name="robots" content="all">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="canonical" href="https://solar-web.ru">
	<!--[if lt IE 9]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
    <![endif]-->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" integrity="sha256-HxaKz5E/eBbvhGMNwhWRPrAR9i/lG1JeT4mD6hCQ7s4=" crossorigin="anonymous">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/animation.css">
	<link rel="stylesheet" media="screen" href="css/media.css">
	<link rel="stylesheet" href="fonts/icons/flaticon.css">
</head>

<body>
	<header class="header" role="banner">
		<div class="header__logo"></div>
		<nav class="menu header__menu" role="navigation">
			<a href="" class="header__menu__link">Главная</a>
			<a href="" class="header__menu__link">Цены</a>
			<a href="" class="header__menu__link">Портфолио</a>
			<a href="" class="header__menu__link">Контакты</a>
			<a href="" class="header__menu__link header__menu__special header__menu__panel" target="_blank">Панель управления</a>
			<a href="tel:+79215852584" class="header__menu__link header__menu__link_special header__menu__phone">+7 (921) 585-25-84</a>
		</nav>
		<!-- <button class="menu--btn" role="button">Гамбургер</button>
        <h1>Веб-студия Solar-web - разработка сайтов в Санкт-Петербурге</h1> -->
	</header>
	<div class="sun" role="marquee"></div>
	<main role="main">
		<section id="main" class="main">
			<div role="presentation" class="bg-filter"></div>
		</section>
		<section id="services" class="services">
			<header role="heading">
				<h2>Наши услуги:</h2>
			</header>
			<article class="services__item">
				<header>
					<h3>Разработка сайтов любой сложности</h3>
				</header>
				<img src="" alt="">
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Harum fugit ratione at fugiat doloribus earum necessitatibus architecto delectus ad quod, fuga laborum, quae in libero!</p>
			</article>
			<article class="services__item">
				<header>
					<h3>Оптимизация сайтов любой сложности</h3>
				</header>
				<img src="" alt="">
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Harum fugit ratione at fugiat doloribus earum necessitatibus architecto delectus ad quod, fuga laborum, quae in libero!</p>
			</article>
			<article class="services__item">
				<header>
					<h3>Продвижение сайтов любой сложности</h3>
				</header>
				<img src="" alt="">
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Harum fugit ratione at fugiat doloribus earum necessitatibus architecto delectus ad quod, fuga laborum, quae in libero!</p>
			</article>
			<article class="services__item">
				<header>
					<h3>Поддержка наших работ</h3>
				</header>
				<img src="" alt="">
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Harum fugit ratione at fugiat doloribus earum necessitatibus architecto delectus ad quod, fuga laborum, quae in libero!</p>
			</article>
		</section>
		<section id="advantages" class="advantages">
			<header role="heading">
				<h2>Наши преимущества</h2>
			</header>
			<article class="advantages__item">
				<header>
					<h3>Панель администрирования</h3>
				</header>
				<img src="" alt="">
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Repellat ipsam iure voluptatum sunt, deserunt laborum?</p>
			</article>
			<article class="advantages__item">
				<header>
					<h3>Новейшие технологии</h3>
				</header>
				<img src="" alt="">
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Repellat ipsam iure voluptatum sunt, deserunt laborum?</p>
			</article>
		</section>
		<section id="portfolio" class="portfolio">
			<header role="heading">
				<h2>Наши последние проекты</h2>
			</header>
		</section>
		<section id="reviews" class="reviews">
			<header role="heading">
				<h2>Отзывы</h2>
			</header>
			<article>
				<header>
					<img src="" alt="">
					<h3></h3>
					<time datetime="2017-08-17">17.08.2017</time>
				</header>
				<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quam, sed?</p>
			</article>
		</section>
	</main>
	<noindex>
		<aside role="presentation">
			<nav class="anchors">
				<a rel="nofollow" href="#services" class="anchors__link"><span class="flaticon-information"></span></a>
				<a rel="nofollow" href="#advantages" class="anchors__link"><span class="flaticon-like"></span></a>
				<a rel="nofollow" href="#portfolio" class="anchors__link"><span class="flaticon-solar-system"></span></a>
				<a rel="nofollow" href="#reviews" class="anchors__link"><span class="flaticon-review"></span></a>
				<a rel="nofollow" href="#main" class="anchors__link"><span class="flaticon-rocket-launch"></span></a>
			</nav>
		</aside>
	</noindex>
	<footer role="contentinfo">
		<section class="footer">
				<div class="footer__planet"></div>
			<div class="footer__planet_illuminated"></div>
				<address>Email: <a href="mailto:tech@solar-web.ru">tech@solar-web.ru</a></address>
				<small>&copy; Solar-Web, 2017. Все права защищены.</small>
		</section>
	</footer>
		<script type="text/javascript">
			
			var sunFlag = false;
			
			var height = document.getElementsByTagName('section')[1].clientHeight;
			
			var flag = 0;
			var tmp;
			var test;
			
			window.onresize = function(e) {
				height = document.getElementsByTagName('section')[1].clientHeight;
//				отскролить на начало текущей секции
			}
			
			if (window.addEventListener) {
			  if ('onwheel' in document) {
				// IE9+, FF17+, Ch31+
				window.addEventListener("wheel", onWheel);
			  } else if ('onmousewheel' in document) {
				// устаревший вариант события
				window.addEventListener("mousewheel", onWheel);
			  } else {
				// Firefox < 17
				window.addEventListener("MozMousePixelScroll", onWheel);
			  }
			} else { // IE8-
			  window.attachEvent("onmousewheel", onWheel);
			}
			
			function onWheel(e) {
//				Отлавливать и отменять скролл на первой и последней секциях при соответвсующем скролле
//				Плавный переход по якорям
//				Попробовать переписать анимацию на css
				e = e || window.event;
				var delta = e.deltaY || e.detail || e.wheelDelta;
				e.preventDefault ? e.preventDefault() : (e.returnValue = false);
				if(delta > 0) {
					if (flag == 0) {
						tmp = document.body.scrollTop + height;
						var timer = setInterval(function() {
							if (document.body.scrollTop >= tmp) {
								clearInterval(timer);
							} else {
								document.body.scrollTop += 7;
								if (document.body.scrollTop > height ) {
									test = document.body.scrollTop - height;
									document.body.scrollTop + test;
								}
							}
						}, 10);
						flag++;
						setTimeout(function() {
							flag = 0;
						}, 2000);
					}
				}
				else {
					if (flag == 0) {
						tmp = document.body.scrollTop - height;
						var timer = setInterval(function() {
							if (document.body.scrollTop <= tmp) {
								clearInterval(timer);
							} else {
								document.body.scrollTop -= 7;
								if (document.body.scrollTop < height ) {
									test = document.body.scrollTop + height;
									document.body.scrollTop - test;
								}
							}
						}, 10);
						flag++;
						setTimeout(function() {
							flag = 0;
						}, 2000);
					}
				} 
				
				
				var heightWindow = document.getElementsByTagName('section')[5].offsetTop;

				var scrolled = window.pageYOffset || document.documentElement.scrollTop;
				
				var sun = document.querySelector('.sun');
				var planet = document.querySelector('.footer__planet_illuminated');
				
				if (heightWindow == scrolled && !sunFlag) {
					sun.style.animationDirection = 'normal';
					sun.style.animationName = 'sunAnimation';
					planet.style.animationDirection = 'normal';
					planet.style.animationName = 'planetAnimation';
					
					sunFlag = true;
				}
				if(scrolled < heightWindow && sunFlag) {
					
					sun.style.animationName = 'sunAnimationRevers';
					planet.style.animationName = 'planetAnimationRevers';

					sunFlag = false;
				}
				
				
				
			}
			
		</script>
</body>

</html>
